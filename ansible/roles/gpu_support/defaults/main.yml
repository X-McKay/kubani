---
# Default variables for gpu_support role

# NVIDIA driver configuration
default_nvidia_driver_version: ""  # Empty means auto-detect latest
default_skip_driver_install: true  # Skip if drivers already present

# NVIDIA device plugin configuration
default_nvidia_device_plugin_version: "v0.14.3"
nvidia_device_plugin_namespace: kube-system
nvidia_device_plugin_image: "nvcr.io/nvidia/k8s-device-plugin:{{ nvidia_device_plugin_version | default(default_nvidia_device_plugin_version) }}"

# GPU time-slicing configuration
default_gpu_time_slicing_enabled: true
default_gpu_time_slicing_replicas: 4

# Runtime configuration
nvidia_runtime_class: nvidia
containerd_config_path: /var/lib/rancher/k3s/agent/etc/containerd/config.toml.tmpl

# Validation settings
validate_gpu_availability: true
gpu_validation_timeout: 300  # seconds

# Kubeconfig location
kubeconfig_path: /etc/rancher/k3s/k3s.yaml
